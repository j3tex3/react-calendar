(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a(20)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(4),i=a.n(r);a(16),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(2),o=a(5),l=a(6),u=a(9),h=a(7),v=a(1),m=a(8),d=(a(17),a(18),function(e){var t=e.selected?" day-active":"";return e.hasEvents&&(t+=" has-events"),e.day>0?s.a.createElement("div",{className:"day"+t,onClick:function(t){return e.setDay(e.day,t)}},e.day):s.a.createElement("div",{className:"day day-empty"})}),f=(a(19),function(e){return s.a.createElement("form",{onSubmit:function(t){return e.submit(t)}},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{className:"input-main",onChange:function(t){return e.updatePerson(t.target.value)},type:"text",placeholder:"\u0418\u043c\u0435\u043d\u0430 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",value:e.valuePerson}),s.a.createElement("input",{className:"input-main",onChange:function(t){return e.updateDesc(t.target.value)},type:"text",placeholder:"\u0421\u043e\u0431\u044b\u0442\u0438\u0435",value:e.valueDesc}),s.a.createElement("button",{type:"submit",className:"btn-main"},"+")))}),p=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={day:a.props.day,month:a.props.month-1,year:a.props.year,cursor:"",findings:[],event:{person:"",desc:""},events:{}},a.setDay=a.setDay.bind(Object(v.a)(a)),a.setDate=a.setDate.bind(Object(v.a)(a)),a.resetDate=a.resetDate.bind(Object(v.a)(a)),a.prevMonth=a.prevMonth.bind(Object(v.a)(a)),a.nextMonth=a.nextMonth.bind(Object(v.a)(a)),a.addEvent=a.addEvent.bind(Object(v.a)(a)),a.updatePerson=a.updatePerson.bind(Object(v.a)(a)),a.updateDesc=a.updateDesc.bind(Object(v.a)(a)),a.saveEvents=a.saveEvents.bind(Object(v.a)(a)),a.loadEvents=a.loadEvents.bind(Object(v.a)(a)),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){window.addEventListener("unload",this.saveEvents),this.setDate(this.props.day,this.props.month-1,this.state.year),this.loadEvents()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("unload",this.saveEvents),this.saveEvents()}},{key:"getMonthName",value:function(e){return["\u042f\u043d\u0432\u0430\u0440\u044c","\u0424\u0435\u0432\u0440\u0430\u043b\u044c","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0435\u043b\u044c","\u041c\u0430\u0439","\u0418\u044e\u043d\u044c","\u0418\u044e\u043b\u044c","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043d\u0442\u044f\u0431\u0440\u044c","\u041e\u043a\u0442\u044f\u0431\u0440\u044c","\u041d\u043e\u044f\u0431\u0440\u044c","\u0414\u0435\u043a\u0430\u0431\u0440\u044c"][e]}},{key:"formatDate",value:function(e,t,a){return e=e.toString().length<2?"0"+e:e,t=(t+=1).toString().length<2?"0"+t:t,"".concat(e,".").concat(t,".").concat(a)}},{key:"setDate",value:function(e,t,a,n){n&&n.preventDefault();var s=this.formatDate(e,t,a);this.setState({cursor:s})}},{key:"setDay",value:function(e,t){this.setDate(e,this.state.month,this.state.year,t)}},{key:"resetDate",value:function(e){e.preventDefault(),this.setState({year:this.props.year,month:this.props.month-1,day:this.props.day}),this.setDate(this.props.day,this.props.month-1,this.props.year)}},{key:"prevMonth",value:function(e){e.preventDefault();var t=this.state.month-1===-1?11:this.state.month-1,a=11===t?this.state.year-1:this.state.year;this.setState({year:a,month:t})}},{key:"nextMonth",value:function(e){e.preventDefault();var t=this.state.month+1===12?0:this.state.month+1,a=0===t?this.state.year+1:this.state.year;this.setState({year:a,month:t})}},{key:"saveEvents",value:function(){localStorage.setItem("events",JSON.stringify(this.state.events))}},{key:"loadEvents",value:function(){var e=localStorage.getItem("events");e&&this.setState({events:JSON.parse(e)})}},{key:"getEvents",value:function(e){return this.state.events[e]?this.state.events[e]:[]}},{key:"updatePerson",value:function(e){this.setState(function(t){return{event:Object(c.a)({},t.event,{person:e})}})}},{key:"updateDesc",value:function(e){this.setState(function(t){return{event:Object(c.a)({},t.event,{desc:e})}})}},{key:"addEvent",value:function(e){e&&e.preventDefault();var t={person:this.state.event.person.trim(),desc:this.state.event.desc.trim(),isEditable:!1};if(t){var a=this.state.events,n=this.state.cursor;a[n]||(a[n]=[]),a[n].push(t),this.setState({event:{person:"",desc:""},events:a}),this.saveEvents()}}},{key:"removeEvents",value:function(e){var t=this.state.events;delete t[e],this.setState({events:t})}},{key:"removeEvent",value:function(e,t){if(this.state.events[e]){var a=this.state.events;a[e].splice(t,1),a[e].length?this.setState({events:a}):this.removeEvents(e)}}},{key:"searchEvent",value:function(e){var t=this;e&&function(){var a=Object.getOwnPropertyNames(t.state.events);e=e.toLowerCase();for(var n=[],s=function(s){t.state.events[a[s]].map(function(t){(e.includes(t.person.toLowerCase())||e.includes(t.desc.toLowerCase())||e.includes(a[s].toLowerCase()))&&n.push({date:a[s],person:t.person,desc:t.desc})}),t.setState({findings:n})},r=0;r<Object.keys(t.state.events).length;r++)s(r)}()}},{key:"goToDate",value:function(e){var t=e.split(".");this.setState({day:t[0],month:t[1]-1,year:t[2]}),console.log(t),this.setDate(t[0],t[1]-1,t[2])}},{key:"render",value:function(){var e=this;console.log(this.state.cursor);var t=new Date(this.state.year,this.state.month,1),a=0!==t.getDay()?t.getDay():7;t.setMonth(t.getMonth()+1),t.setDate(1),t.setDate(t.getDate()-1);for(var n=[],r=a-1,i=a+t.getDate()-1,c=0;c<42;++c)n[c]=c>=r&&c<i?c-a+2:"";var o=["\u041f\u043d","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041f\u0442","\u0421\u0431","\u0412\u0441"].map(function(e,t){return s.a.createElement("div",{className:"day",key:t},e)}),l=this.state.cursor.split(".");l[0]=l[0].substr(0,l[0].length-1).includes("0")?l[0].slice(1):l[0];var u=n.map(function(t,a){if(t){var n=e.formatDate(t,e.state.month,e.state.year),r=e.state.month===l[1]-1&&e.state.year.toString()===l[2],i=t.toString()===l[0]&&r;return s.a.createElement(d,{key:a,day:t,selected:i,hasEvents:Array.isArray(e.state.events[n]),setDay:e.setDay})}return s.a.createElement(d,{key:a,day:-1})}),h=this.getEvents(this.state.cursor).map(function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("i",{className:"fas fa-user"})," ",t.person,s.a.createElement("br",null),s.a.createElement("i",{className:"fab fa-elementor"})," ",t.desc,t.isEditable?s.a.createElement("a",{href:"#",onClick:function(){return t.isEditable=!1}},s.a.createElement("i",{className:"fas fa-check"})):s.a.createElement("a",{href:"#",onClick:function(){return t.isEditable=!0}},s.a.createElement("i",{className:"fas fa-edit"})),s.a.createElement("a",{href:"#",onClick:function(){return e.removeEvent(e.state.cursor,a)}},s.a.createElement("i",{className:"fas fa-trash"})))});return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"search"},s.a.createElement("input",{onChange:function(t){return e.searchEvent(t.target.value)},type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a"})),0!==this.state.findings.length?s.a.createElement("div",{className:"results"},s.a.createElement("ul",null,this.state.findings.map(function(t,a){return s.a.createElement("li",{key:a},s.a.createElement("i",{className:"fas fa-user"})," ",t.person,s.a.createElement("br",null),s.a.createElement("i",{className:"fab fa-elementor"})," ",t.desc,s.a.createElement("br",null),s.a.createElement("i",{className:"fas fa-clock"})," ",t.date,s.a.createElement("a",{href:"#",onClick:function(){return e.goToDate(t.date)}},s.a.createElement("i",{className:"fas fa-arrow-right"})))}))):null,s.a.createElement("div",{className:"calendar"},s.a.createElement("div",{className:"month"},s.a.createElement("span",{className:"month-active"},s.a.createElement("b",null,this.getMonthName(this.state.month))," "+this.state.year),s.a.createElement("span",{className:"month-selector"},s.a.createElement("a",{className:"prev",href:"#",onClick:this.prevMonth},"\u27f5"),s.a.createElement("a",{className:"reset",href:"#",onClick:this.resetDate},"\u25cb"),s.a.createElement("a",{className:"next",href:"#",onClick:this.nextMonth},"\u27f6"))),s.a.createElement("div",{className:"weekdays"},o),s.a.createElement("div",{className:"days"},u)),s.a.createElement("div",{className:"events"},s.a.createElement("h2",{className:"date-active"},this.state.cursor),h.length>0&&s.a.createElement("ul",null,h)),s.a.createElement("div",{className:"event-add"},s.a.createElement("h2",null,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"),s.a.createElement(f,{value:this.state.event,submit:this.addEvent,updatePerson:this.updatePerson,updateDesc:this.updateDesc,valuePerson:this.state.event.person,valueDesc:this.state.event.desc})))}}]),t}(s.a.Component),y=new Date;i.a.render(s.a.createElement(p,{year:y.getFullYear(),month:y.getMonth()+1,day:y.getDate()}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[10,1,2]]]);
//# sourceMappingURL=main.29ca2a74.chunk.js.map